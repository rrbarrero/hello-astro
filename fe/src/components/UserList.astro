---
import { Repository } from '../repositories/backend';
import type { User } from '../entities/User';
import UserListClient from '../components/UserListClient.tsx';

const isServer = typeof window === 'undefined';

const baseURL = isServer ? 'http://backend:8000' : 'http://localhost:8000';

const userRepo = new Repository<User>("users", baseURL);
const users = await userRepo.getAll(); // SSR
---

<UserListClient client:load users={users} />